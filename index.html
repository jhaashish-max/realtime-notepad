<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="A realtime collaborative notepad with secure profiles. Write, sync, and collaborate across browsers instantly.">
  <title>SyncPad — Realtime Notepad</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="bg-grid"></div>
  <div class="bg-glow bg-glow--1"></div>
  <div class="bg-glow bg-glow--2"></div>

  <!-- ========== AUTH VIEW ========== -->
  <div id="auth-view" class="view">
    <div class="auth-container">
      <div class="auth-header">
        <div class="logo">
          <svg class="logo-icon" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="2" y="2" width="36" height="36" rx="8" stroke="url(#logo-grad)" stroke-width="2.5" />
            <path d="M12 14h16M12 20h12M12 26h8" stroke="url(#logo-grad)" stroke-width="2" stroke-linecap="round" />
            <circle cx="30" cy="28" r="5" fill="url(#logo-grad)" opacity="0.6" />
            <circle cx="30" cy="28" r="2.5" fill="#0f0f17" />
            <defs>
              <linearGradient id="logo-grad" x1="0" y1="0" x2="40" y2="40">
                <stop stop-color="#6C63FF" />
                <stop offset="1" stop-color="#00D9FF" />
              </linearGradient>
            </defs>
          </svg>
          <h1>SyncPad</h1>
        </div>
        <p class="auth-subtitle">Your realtime notepad, everywhere.</p>
      </div>

      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="login">Log In</button>
        <button class="auth-tab" data-tab="signup">Sign Up</button>
        <div class="auth-tab-indicator"></div>
      </div>

      <!-- Login Form -->
      <form id="login-form" class="auth-form active">
        <div class="input-group">
          <label for="login-email">Email</label>
          <input type="email" id="login-email" placeholder="you@example.com" required autocomplete="email">
        </div>
        <div class="input-group">
          <label for="login-password">Password</label>
          <input type="password" id="login-password" placeholder="••••••••" required autocomplete="current-password">
        </div>
        <button type="submit" class="btn btn--primary" id="login-btn">
          <span class="btn-text">Log In</span>
          <span class="btn-loader"></span>
        </button>
      </form>

      <!-- Signup Form -->
      <form id="signup-form" class="auth-form">
        <div class="input-group">
          <label for="signup-email">Email</label>
          <input type="email" id="signup-email" placeholder="you@example.com" required autocomplete="email">
        </div>
        <div class="input-group">
          <label for="signup-password">Password</label>
          <input type="password" id="signup-password" placeholder="Min 6 characters" required minlength="6"
            autocomplete="new-password">
        </div>
        <div class="input-group">
          <label for="signup-confirm">Confirm Password</label>
          <input type="password" id="signup-confirm" placeholder="••••••••" required minlength="6"
            autocomplete="new-password">
        </div>
        <button type="submit" class="btn btn--primary" id="signup-btn">
          <span class="btn-text">Create Account</span>
          <span class="btn-loader"></span>
        </button>
      </form>

      <div id="auth-error" class="auth-error" role="alert"></div>
      <div id="auth-success" class="auth-success" role="status"></div>
      <p class="made-by">Made with ♥ by <strong>Ashish</strong></p>
    </div>
  </div>

  <!-- ========== NOTEPAD VIEW ========== -->
  <div id="notepad-view" class="view" style="display:none;">
    <header class="topbar">
      <div class="topbar-left">
        <svg class="topbar-logo" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="36" height="36" rx="8" stroke="url(#tb-grad)" stroke-width="2.5" />
          <path d="M12 14h16M12 20h12M12 26h8" stroke="url(#tb-grad)" stroke-width="2" stroke-linecap="round" />
          <circle cx="30" cy="28" r="5" fill="url(#tb-grad)" opacity="0.6" />
          <circle cx="30" cy="28" r="2.5" fill="#0f0f17" />
          <defs>
            <linearGradient id="tb-grad" x1="0" y1="0" x2="40" y2="40">
              <stop stop-color="#6C63FF" />
              <stop offset="1" stop-color="#00D9FF" />
            </linearGradient>
          </defs>
        </svg>
        <span class="topbar-title">SyncPad</span>
      </div>
      <div class="topbar-right">
        <div class="sync-status" id="sync-status">
          <span class="sync-dot"></span>
          <span class="sync-label">Connected</span>
        </div>
        <div class="user-badge" id="user-badge" title="Logged in user">
          <span class="user-avatar" id="user-avatar">U</span>
          <span class="user-email" id="user-email"></span>
        </div>
        <button class="btn btn--ghost" id="logout-btn" title="Log out">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4" />
            <polyline points="16 17 21 12 16 7" />
            <line x1="21" y1="12" x2="9" y2="12" />
          </svg>
        </button>
      </div>
    </header>

    <main class="notepad-main">
      <div class="notepad-wrapper">
        <div class="notepad-toolbar">
          <span class="notepad-info">
            <span id="char-count">0</span> characters
          </span>
          <span class="notepad-info" id="last-saved">
            —
          </span>
        </div>
        <textarea id="notepad" class="notepad-textarea"
          placeholder="Start typing... your notes sync in realtime across all your sessions."
          spellcheck="true"></textarea>
      </div>
    </main>
    <footer class="made-by-footer">
      Made with ♥ by <strong>Ashish</strong>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/config.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/notepad.js"></script>
  <script src="js/app.js"></script>
</body>

</html>